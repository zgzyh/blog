import{_ as i}from"./plugin-vue_export-helper-DlAUqK2U.js";import{c as s,e as a,o as t}from"./app-kIqQcu7q.js";const n={};function l(h,e){return t(),s("div",null,e[0]||(e[0]=[a('<h1 id="利用sfc工具与dism工具尝试修复系统" tabindex="-1"><a class="header-anchor" href="#利用sfc工具与dism工具尝试修复系统"><span>利用SFC工具与Dism工具尝试修复系统</span></a></h1><p>如果某些 Windows 功能不工作或 Windows 崩溃，我们可以使用使用系统文件检查功能扫描 Windows 缺失或损坏的文件并还原文件</p><h2 id="本文内容包括" tabindex="-1"><a class="header-anchor" href="#本文内容包括"><span>本文内容包括</span></a></h2><ul><li><p>使用Dism映像部署工具诊断和修复系统</p><ul><li>基本原理</li><li>快速检查 (CheckHealth)</li><li>深入扫描 (ScanHealth)</li><li>修复系统 (RestoreHealth)</li><li>使用 install.wim 作为修复源（可选）</li></ul></li><li><p>使用sfc系统检查工具诊断和修复系统</p><ul><li>基本原理</li><li>方法</li></ul></li><li><p>总结</p></li></ul><h2 id="一、使用dism映像部署工具诊断和修复系统" tabindex="-1"><a class="header-anchor" href="#一、使用dism映像部署工具诊断和修复系统"><span>一、使用Dism映像部署工具诊断和修复系统</span></a></h2><h3 id="_1-基本原理" tabindex="-1"><a class="header-anchor" href="#_1-基本原理"><span>1.基本原理</span></a></h3><p>DISM可以联网将你当前的系统文件和官方的原镜像进行比对，然后恢复与官方映像不一样的文件，从而达到修复的目的</p><h3 id="_1-1-快速检查-checkhealth" tabindex="-1"><a class="header-anchor" href="#_1-1-快速检查-checkhealth"><span>1-1.快速检查 (CheckHealth)</span></a></h3><p>DISM 的<code>/CheckHealth</code>参数相当于给你的电脑做一个快速体检，它能够快速检测系统是否存在明显的问题，但不会进行深入的诊断或修复：</p><ol><li>使用<code>Windows + R</code>快捷键打开「运行」对话框，输入<code>cmd</code>，然后按<code>Ctrl + Shift + Enter</code>以管理员权限打开「命令提示符」。<strong>（一定要以管理员身份运行！）</strong></li><li>执行以下命令，检查本地映像是否存在数据损坏：</li></ol><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">DISM</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> /Online</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> /Cleanup-Image</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> /CheckHealth</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>如果系统没有问题，你会看到「未检测到组件存储损坏」提示。如果检测到问题，则会显示「组件存储已损坏」</p><h3 id="_1-2-深入扫描-scanhealth" tabindex="-1"><a class="header-anchor" href="#_1-2-深入扫描-scanhealth"><span>1-2.深入扫描 (ScanHealth)</span></a></h3><p>如果 CheckHealth 没有发现，但 Windows 还是存在问题，可以使用<code>/ScanHealth</code>参数进行更深入的扫描。这会彻底检查「组件存储」是否存有损坏，并将结果保存到日志文件中：</p><ol><li>使用<code>Windows + R</code>快捷键打开「运行」对话框，输入<code>cmd</code>，然后按<code>Ctrl + Shift + Enter</code>以管理员权限打开「命令提示符」。<strong>（一定要以管理员身份运行！）</strong></li><li>执行以下命令，进行更全面的检查：</li></ol><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">DISM</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> /Online</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> /Cleanup-Image</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> /ScanHealth</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>这个过程会比较耗时，扫描完成后，如果发现问题，可以继续执行下一步来修复 Windows 映像。</p><h3 id="_1-3-修复系统-restorehealth" tabindex="-1"><a class="header-anchor" href="#_1-3-修复系统-restorehealth"><span>1-3.修复系统 (RestoreHealth)</span></a></h3><p>如果前两步发现了问题，可以使用 RestoreHealth 参数来修复 Windows 10/11 系统映像：</p><ol><li>使用<code>Windows + R</code>快捷键打开「运行」对话框，输入<code>cmd</code>，然后按<code>Ctrl + Shift + Enter</code>以管理员权限打开「命令提示符」。</li><li>执行以下命令，修复本地系统映像：</li></ol><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">DISM</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> /Online</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> /Cleanup-Image</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> /RestoreHealth</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><div class="hint-container tip"><p class="hint-container-title">提示</p><blockquote><p>注意：此命令需要互联网连接，因为需要从 Windows Update 下载修复文件。修复过程比较耗时，请耐心等待。</p></blockquote></div><h3 id="_1-4-使用-install-wim-作为修复源-可选" tabindex="-1"><a class="header-anchor" href="#_1-4-使用-install-wim-作为修复源-可选"><span>1-4.使用 install.wim 作为修复源（可选）</span></a></h3><p>如果你的电脑无法连接到互联网，或者要修复「Windows 更新」组件本身，可以手动挂载 Windows 安装镜像，并指定<code>install.wim</code>或<code>install.esd</code>作为修复源：</p><ol><li>前往<a href="https://www.microsoft.com/zh-cn/software-download/" target="_blank" rel="noopener noreferrer">Microsoft镜像下载中心</a>或<a href="http://next.itellyou.cn/" target="_blank" rel="noopener noreferrer">Itellyou</a>等地方下载Windows原版ISO镜像，ISO 版本要与你当前系统版本相同。例如，如果你使用的是 Windows 11 23H2，就别挂载个 22H2 来修复。</li><li>双击下载的 ISO 文件，系统会自动将其挂载为虚拟光驱。记住系统分配给该虚拟光盘的盘符，例如<code>E:\\</code><img src="https://wyyzxzyg.cn/wp-content/uploads/2025/02/1738628399-IMG_3558.jpeg" alt="Image 9: 查看虚拟光驱盘符" loading="lazy"></li><li>使用<code>Windows + R</code>快捷键打开「运行」对话框，输入<code>cmd</code>，然后按<code>Ctrl + Shift + Enter</code>以管理员权限打开「命令提示符」。</li><li>执行以下命令，从指定源文件修复系统（请将 E: 替换为实际的盘符）</li></ol><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">DISM</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> /Online</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> /Cleanup-Image</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> /RestoreHealth</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> /Source:E:</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;">\\S</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">ources</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;">\\i</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">nstall.wim</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> /LimitAccess</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>如果不使用<code>/LimitAccess</code>参数，DISM 会先尝试使用「Windows 更新」查找修复源文件。如果无法连接到 Windows Update 或找不到所需文件，才会使用<code>/Source</code>参数中指定的<code>install.wim</code>或<code>install.esd</code>文件。</p><p>DISM 提供了快速检查、深入扫描和修复映像共三大核心系统修复功能，通过以上步骤，你可以对 Windows 10/11 系统进行诊断和修复。帮助你轻松解决系统中的各种疑难杂症，保持电脑的最佳运行状态。</p><h2 id="二、使用sfc系统检查工具诊断和修复系统" tabindex="-1"><a class="header-anchor" href="#二、使用sfc系统检查工具诊断和修复系统"><span>二、使用sfc系统检查工具诊断和修复系统</span></a></h2><h3 id="_2-1-基本原理" tabindex="-1"><a class="header-anchor" href="#_2-1-基本原理"><span>2-1.基本原理</span></a></h3><p>SFC命令的基本原理是使用哈希算法对系统文件进行校验和验证。 每个系统文件都有一个与之相关联的唯一哈希值，该哈希值是通过对文件内容进行计算得到的。 在运行SFC命令时，系统会计算当前系统文件的哈希值，并与事先存储的正确哈希值进行比对。 如果发现哈希值不匹配，说明文件可能已经受到破坏或篡改，SFC会尝试替换为正确的文件版本。</p><h3 id="_2-2-使用方法" tabindex="-1"><a class="header-anchor" href="#_2-2-使用方法"><span>2-2.使用方法</span></a></h3><ol><li>使用<code>Windows + R</code>快捷键打开「运行」对话框，输入<code>cmd</code>，然后按<code>Ctrl + Shift + Enter</code>以管理员权限打开「命令提示符」。</li><li>在**“命令提示符”**窗口中，键入以下命令，然后按 Enter</li></ol><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">sfc</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> /scannow</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p><code>sfc/scnnow</code>将检查受保护的系统文件，并将损坏的文件替换为缓存的副本。 此过程完成后，将显示扫描结果。</p><table><thead><tr><th>扫描结果信息</th><th>相应操作</th></tr></thead><tbody><tr><td>Windows 资源保护找不到任何完整性冲突。</td><td>没有任何丢失或损坏的系统文件，无须操作。若要解决此问题，请在<a href="https://support.microsoft.com/windows/windows-startup-settings-1af6ec8c-4d4a-4b23-adb7-e76eef0b847f" target="_blank" rel="noopener noreferrer">安全模式下</a>执行系统文件检查器扫描。</td></tr><tr><td>Windows 资源保护无法执行请求的操作。</td><td>确保<strong>PendingDeletes</strong>和<strong>PendingRenames</strong>文件夹位于 <strong>%WinDir%\\WinSxS\\Temp</strong>下。<code>%WinDir%</code>占位符表示 Windows 操作系统文件夹，例如 C：\\Windows。</td></tr><tr><td>Windows 资源保护发现损坏的文件并成功修复了这些文件。操作成功。</td><td>若要查看有关系统文件扫描和还原的详细信息，请转到<a href="https://support.microsoft.com/zh-cn/topic/%E4%BD%BF%E7%94%A8%E7%B3%BB%E7%BB%9F%E6%96%87%E4%BB%B6%E6%A3%80%E6%9F%A5%E5%99%A8%E5%B7%A5%E5%85%B7%E4%BF%AE%E5%A4%8D%E4%B8%A2%E5%A4%B1%E6%88%96%E6%8D%9F%E5%9D%8F%E7%9A%84%E7%B3%BB%E7%BB%9F%E6%96%87%E4%BB%B6-79aa86cb-ca52-166a-92a3-966e85d4094e#bkmk_cbs_log" target="_blank" rel="noopener noreferrer">如何查看系统文件检查器进程的详细信息</a>。</td></tr><tr><td>Windows 资源保护发现损坏的文件，但无法修复其中一些文件。</td><td>若要手动修复损坏的文件，请查看<a href="https://support.microsoft.com/zh-cn/topic/%E4%BD%BF%E7%94%A8%E7%B3%BB%E7%BB%9F%E6%96%87%E4%BB%B6%E6%A3%80%E6%9F%A5%E5%99%A8%E5%B7%A5%E5%85%B7%E4%BF%AE%E5%A4%8D%E4%B8%A2%E5%A4%B1%E6%88%96%E6%8D%9F%E5%9D%8F%E7%9A%84%E7%B3%BB%E7%BB%9F%E6%96%87%E4%BB%B6-79aa86cb-ca52-166a-92a3-966e85d4094e#bkmk_cbs_log" target="_blank" rel="noopener noreferrer">系统文件检查器进程的详细信息</a>查找损坏的文件，然后<a href="https://support.microsoft.com/zh-cn/topic/%E4%BD%BF%E7%94%A8%E7%B3%BB%E7%BB%9F%E6%96%87%E4%BB%B6%E6%A3%80%E6%9F%A5%E5%99%A8%E5%B7%A5%E5%85%B7%E4%BF%AE%E5%A4%8D%E4%B8%A2%E5%A4%B1%E6%88%96%E6%8D%9F%E5%9D%8F%E7%9A%84%E7%B3%BB%E7%BB%9F%E6%96%87%E4%BB%B6-79aa86cb-ca52-166a-92a3-966e85d4094e#bkmk_cbs_log" target="_blank" rel="noopener noreferrer">手动将损坏的文件替换为已知完好的文件副本</a>。</td></tr></tbody></table><h2 id="总结" tabindex="-1"><a class="header-anchor" href="#总结"><span>总结</span></a></h2><p>以上就是介绍Dism与SFC工具修复Windows系统的所有内容了，若有任何疑问或建议欢迎在评论区中指出</p>',38)]))}const r=i(n,[["render",l]]),c=JSON.parse('{"path":"/posts/Windows/%E5%88%A9%E7%94%A8SFC%E5%B7%A5%E5%85%B7%E4%B8%8EDism%E5%B7%A5%E5%85%B7%E5%B0%9D%E8%AF%95%E4%BF%AE%E5%A4%8D%E7%B3%BB%E7%BB%9F.html","title":"利用SFC工具与Dism工具尝试修复系统","lang":"zh-CN","frontmatter":{"description":"利用SFC工具与Dism工具尝试修复系统 如果某些 Windows 功能不工作或 Windows 崩溃，我们可以使用使用系统文件检查功能扫描 Windows 缺失或损坏的文件并还原文件 本文内容包括 使用Dism映像部署工具诊断和修复系统 基本原理 快速检查 (CheckHealth) 深入扫描 (ScanHealth) 修复系统 (RestoreHe...","head":[["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"利用SFC工具与Dism工具尝试修复系统\\",\\"image\\":[\\"https://wyyzxzyg.cn/wp-content/uploads/2025/02/1738628399-IMG_3558.jpeg\\"],\\"dateModified\\":\\"2025-07-05T11:53:13.000Z\\",\\"author\\":[{\\"@type\\":\\"Person\\",\\"name\\":\\"我願一直向著陽光\\",\\"url\\":\\"https://blog.wyyzxzyg.cn\\"}]}"],["meta",{"property":"og:url","content":"https://blogs.wyyzxzyg.cn/posts/Windows/%E5%88%A9%E7%94%A8SFC%E5%B7%A5%E5%85%B7%E4%B8%8EDism%E5%B7%A5%E5%85%B7%E5%B0%9D%E8%AF%95%E4%BF%AE%E5%A4%8D%E7%B3%BB%E7%BB%9F.html"}],["meta",{"property":"og:site_name","content":"我願一直向著陽光の博客"}],["meta",{"property":"og:title","content":"利用SFC工具与Dism工具尝试修复系统"}],["meta",{"property":"og:description","content":"利用SFC工具与Dism工具尝试修复系统 如果某些 Windows 功能不工作或 Windows 崩溃，我们可以使用使用系统文件检查功能扫描 Windows 缺失或损坏的文件并还原文件 本文内容包括 使用Dism映像部署工具诊断和修复系统 基本原理 快速检查 (CheckHealth) 深入扫描 (ScanHealth) 修复系统 (RestoreHe..."}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:image","content":"https://wyyzxzyg.cn/wp-content/uploads/2025/02/1738628399-IMG_3558.jpeg"}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"property":"og:updated_time","content":"2025-07-05T11:53:13.000Z"}],["meta",{"property":"article:modified_time","content":"2025-07-05T11:53:13.000Z"}]]},"git":{"createdTime":1751711539000,"updatedTime":1751716393000,"contributors":[{"name":"zgzyh","username":"zgzyh","email":"2738226109@qq.com","commits":10,"url":"https://github.com/zgzyh"}]},"readingTime":{"minutes":6.31,"words":1892},"filePathRelative":"posts/Windows/利用SFC工具与Dism工具尝试修复系统.md","excerpt":"\\n<p>如果某些 Windows 功能不工作或 Windows 崩溃，我们可以使用使用系统文件检查功能扫描 Windows 缺失或损坏的文件并还原文件</p>\\n<h2>本文内容包括</h2>\\n<ul>\\n<li>\\n<p>使用Dism映像部署工具诊断和修复系统</p>\\n<ul>\\n<li>基本原理</li>\\n<li>快速检查 (CheckHealth)</li>\\n<li>深入扫描 (ScanHealth)</li>\\n<li>修复系统 (RestoreHealth)</li>\\n<li>使用 install.wim 作为修复源（可选）</li>\\n</ul>\\n</li>\\n<li>\\n<p>使用sfc系统检查工具诊断和修复系统</p>\\n<ul>\\n<li>基本原理</li>\\n<li>方法</li>\\n</ul>\\n</li>\\n<li>\\n<p>总结</p>\\n</li>\\n</ul>","autoDesc":true}');export{r as comp,c as data};
